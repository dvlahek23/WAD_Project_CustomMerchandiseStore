<div class="cms-app">
  <header class="cms-header">
    <div class="cms-nav">
      <a routerLink="/" class="cms-logo">
        <img src="logo.png" alt="Logo" class="cms-logo-img">
        <span class="cms-logo-text">Custom Merchandise Store</span>
      </a>

      <nav class="cms-nav-links">
        <!-- Main navigation -->
        <a routerLink="/products" class="cms-nav-link">Products</a>
        <a routerLink="/documentation" class="cms-nav-link">About</a>

        <!-- Role-specific links (logged in) -->
        <ng-container *ngIf="userService.isLoggedIn">
          <span class="cms-nav-divider"></span>
          <a routerLink="/my-orders" class="cms-nav-link"
             *ngIf="userService.isCustomer || userService.isDesigner || userService.isAdmin || userService.isManagement">My Orders</a>
          <a routerLink="/designer-orders" class="cms-nav-link"
             *ngIf="userService.isDesigner || userService.isAdmin || userService.isManagement">Design Review</a>
          <a routerLink="/manage-orders" class="cms-nav-link"
             *ngIf="userService.isAdmin || userService.isManagement">Manage Orders</a>
          <a routerLink="/manage-products" class="cms-nav-link"
             *ngIf="userService.isAdmin || userService.isManagement">Manage Products</a>
        </ng-container>

        <!-- User section -->
        <div class="cms-nav-user">
          <!-- Guest links -->
          <ng-container *ngIf="!userService.isLoggedIn">
            <a routerLink="/login" class="cms-nav-link cms-nav-link--outline">Login</a>
            <a routerLink="/register" class="cms-nav-link cms-nav-link--filled">Register</a>
          </ng-container>

          <!-- Logged in -->
          <ng-container *ngIf="userService.isLoggedIn">
            <div class="cms-user-info">
              <span class="cms-username">{{ userService.user?.username }}</span>
              <span class="cms-role">{{ roleDisplay }}</span>
            </div>
            <a routerLink="/profile" class="cms-nav-link cms-nav-link--outline">Profile</a>
            <button (click)="logout()" class="cms-nav-link cms-nav-link--filled">Logout</button>
          </ng-container>
        </div>
      </nav>
    </div>
  </header>

  <main class="cms-main">
    <router-outlet></router-outlet>
  </main>

  <footer class="cms-footer">
    <span>© 2026 Custom Merchandise Store</span>
    <span>FOI · UL · Web Application Development</span>
  </footer>
</div>
