<div class="cms-app">
  <header class="cms-header">
    <div class="cms-nav">
      <a routerLink="/" class="cms-logo">
        <img src="logo.png" alt="Logo" class="cms-logo-img">
        <span class="cms-logo-text">Custom Merchandise Store</span>
      </a>

      <nav class="cms-nav-links">
        <!-- Always visible -->
        <a routerLink="/products" class="cms-nav-link cms-nav-link--primary">Products</a>

        <!-- Guest links -->
        <ng-container *ngIf="!userService.isLoggedIn">
          <a routerLink="/login" class="cms-nav-link cms-nav-link--guest">Login</a>
          <a routerLink="/register" class="cms-nav-link cms-nav-link--guest">Register</a>
        </ng-container>

        <!-- Logged in links -->
        <ng-container *ngIf="userService.isLoggedIn">
          <a routerLink="/profile" class="cms-nav-link cms-nav-link--profile">Profile</a>
          <button (click)="logout()" class="cms-nav-link cms-nav-link--primary">Logout</button>
          <div class="cms-user-info">
            <span class="cms-username">{{ userService.user?.username }}</span>
            <span class="cms-role">{{ roleDisplay }}</span>
          </div>
        </ng-container>
      </nav>
    </div>
  </header>

  <main class="cms-main">
    <router-outlet></router-outlet>
  </main>

  <footer class="cms-footer">
    <span>© 2026 Custom Merchandise Store</span>
    <span>FOI · UL · Web Application Development</span>
  </footer>
</div>
